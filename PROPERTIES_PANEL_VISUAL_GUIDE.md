# Properties Panel - Visual Guide

## Before and After Comparison

### BEFORE - No Selection State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  Properties               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚
â”‚        ğŸ“„                    â”‚
â”‚                              â”‚
â”‚     No selection             â”‚
â”‚                              â”‚
â”‚  Select an element on the    â”‚
â”‚  timeline or in the media    â”‚
â”‚  library to view its         â”‚
â”‚  properties                  â”‚
â”‚                              â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AFTER - No Selection State (Enhanced)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  Properties               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚
â”‚  â–¼ Project                   â”‚
â”‚  â”œâ”€ Resolution: 1920 Ã— 1080  â”‚
â”‚  â”œâ”€ Frame Rate: 30 fps       â”‚
â”‚  â”œâ”€ Duration: 0:00           â”‚
â”‚  â””â”€ Aspect Ratio: 1920:1080  â”‚
â”‚                              â”‚
â”‚  â–¼ Playback                  â”‚
â”‚  â”œâ”€ Quality: [Full â–¼]        â”‚
â”‚  â””â”€ Loop: â­˜                  â”‚
â”‚                              â”‚
â”‚  â–¼ Quick Access              â”‚
â”‚  â”œâ”€ [âš™ï¸  Project Settings...] â”‚
â”‚  â””â”€ [ğŸ’¾  Save Project]        â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### WITH Selection State (Clip Selected)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  Properties               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Media Thumbnail]           â”‚
â”‚                              â”‚
â”‚  â–¶ File Information          â”‚
â”‚  â”œâ”€ Name: clip_001.mp4       â”‚
â”‚  â”œâ”€ Type: Video              â”‚
â”‚  â”œâ”€ Size: 45.2 MB            â”‚
â”‚  â”œâ”€ Duration: 0:10           â”‚
â”‚  â””â”€ Resolution: 1920 Ã— 1080  â”‚
â”‚                              â”‚
â”‚  â–¼ Transform                 â”‚
â”‚  â”œâ”€ Scale:  X [100%] Y [100%]â”‚
â”‚  â”‚           ğŸ”—  â—†            â”‚
â”‚  â”œâ”€ Position: X [0px] Y [0px]â”‚
â”‚  â”‚           â—†                â”‚
â”‚  â”œâ”€ Rotation: â”â”â—â”â” 0Â° ğŸ”„ â—†  â”‚
â”‚  â”œâ”€ Opacity:  â”â”â”â”â— 100%  â—†  â”‚
â”‚  â”œâ”€ Anchor:  X [50%] Y [50%] â”‚
â”‚  â””â”€ Blend: [Normal â–¼]        â”‚
â”‚                              â”‚
â”‚  â–¼ Audio                     â”‚
â”‚  â”œâ”€ Volume:   â”â”â”â”â— 0.0 dB   â”‚
â”‚  â”œâ”€ Pan:   L â”â”â—â”â” R  0      â”‚
â”‚  â”œâ”€ Fade In:  â”â—â”â”â” 0.0s     â”‚
â”‚  â”œâ”€ Fade Out: â”â—â”â”â” 0.0s     â”‚
â”‚  â””â”€ Mute: â­˜                  â”‚
â”‚                              â”‚
â”‚  ... (more sections)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key UI Elements

### Collapsible Sections
```
â–¼ Section Title (Expanded)
  Content here...

â–¶ Section Title (Collapsed)
```

The chevron rotates smoothly (200ms ease-out animation) when toggling.

### ScrubbableInput Component
```
Label       [100%]
            â†•ï¸ 
         (draggable)
```

**Interaction:**
1. **Hover**: Background lightens
2. **Click & Drag Left**: Value decreases
3. **Click & Drag Right**: Value increases
4. **During Drag**: 
   - Cursor changes to âŸ· (ew-resize)
   - Background changes to brand color
   - Text changes to white

**Example Values:**
- `100` with suffix `%` â†’ displays as "100%"
- `0` with suffix `px` â†’ displays as "0px"
- `1920` with no suffix â†’ displays as "1920"

### Property Rows
```
Label Name       Value Display
â”œâ”€ 56px min â”€â”¤ â””â”€ flex 1 â”€â”˜

Examples:
Resolution      1920 Ã— 1080
Frame Rate      30 fps
Opacity         â”â”â”â”â— 100%  â—†
```

### Dropdowns
```
Quality         [Full â–¼]
                â”œâ”€ 1/4
                â”œâ”€ 1/2
                â””â”€ Full (selected)
```

### Toggle Switches
```
Loop            â­˜  (off)
Loop            â¬¤  (on)
```

### Action Buttons
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  Project Settings...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾  Save Project             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Visual Hierarchy

### Spacing
- **Panel Padding**: 12px (md)
- **Section Padding**: 12px (md)
- **Item Spacing**: 8px (sm)
- **Group Spacing**: 4px (xs)

### Typography
- **Panel Title**: 18px, semibold
- **Section Title**: 12px (200), semibold
- **Labels**: 11px (sm), regular, foreground3
- **Values**: 11px (sm), regular, foreground2
- **Monospace Values**: SF Mono, 11px

### Colors
- **Background**: neutralBackground2 (panel)
- **Section Background**: neutralBackground3
- **Labels**: neutralForeground3 (muted)
- **Values**: neutralForeground2 (normal)
- **Active Scrubbable**: brandBackground
- **Borders**: neutralStroke3

### Icons
- **Panel Header**: 18px
- **Section Chevrons**: 16px
- **Action Buttons**: 16px
- **Transform Icons**: 24px

## Animation Details

### Section Expand/Collapse
```
Duration: 200ms
Easing: ease-out
Properties animated:
  - height: 0 â†’ auto
  - opacity: 0 â†’ 1
```

### Chevron Rotation
```
Duration: 150ms (fast)
Easing: ease-out
Transform: rotate(0deg) â†’ rotate(90deg)
```

### ScrubbableInput Drag
```
Hover:
  - Background: neutralBackground4
  - Transition: 150ms

Active Drag:
  - Background: brandBackground
  - Text Color: white (onBrand)
  - Cursor: ew-resize
  - Instant change (no transition)
```

## Responsive Behavior

The Properties Panel maintains a fixed width but adapts content:

1. **No Selection**: Minimal content, shows essentials
2. **Selection**: Expands vertically to show all properties
3. **Scrolling**: Content area scrolls when properties exceed height
4. **Sections**: Can collapse to save vertical space

## Accessibility Features

### ARIA Attributes
```tsx
// ScrubbableInput
role="slider"
aria-label="Property name"
aria-valuenow={currentValue}
aria-valuemin={min}
aria-valuemax={max}
tabIndex={0}

// Section Headers
type="button"
onClick={toggleSection}

// Switches
role="switch"
aria-checked={isOn}
```

### Keyboard Support
- **Tab**: Navigate between controls
- **Enter/Space**: Toggle switches and buttons
- **Arrow Keys**: (Future) Adjust ScrubbableInput values

### Screen Readers
- All interactive elements have descriptive labels
- State changes announced automatically
- Logical reading order maintained

## Design Tokens Used

```typescript
// Spacing
openCutTokens.spacing.xs  // 4px
openCutTokens.spacing.sm  // 8px
openCutTokens.spacing.md  // 12px
openCutTokens.spacing.lg  // 16px

// Radius
openCutTokens.radius.sm   // 4px
openCutTokens.radius.md   // 8px

// Animation
openCutTokens.animation.duration.fast   // 150ms
openCutTokens.animation.duration.normal // 200ms
openCutTokens.animation.easing.easeOut  // ease-out

// Typography
openCutTokens.typography.fontSize.xs  // 10px
openCutTokens.typography.fontSize.sm  // 11px
openCutTokens.typography.fontFamily.mono // SF Mono
```

## State Management

The Properties Panel integrates with these Zustand stores:

```typescript
useOpenCutProjectStore()   // Project settings
useOpenCutTimelineStore()  // Timeline data, duration
useOpenCutMediaStore()     // Selected media
useOpenCutPlaybackStore()  // Playback state
useOpenCutKeyframesStore() // Keyframe data
// ... and others for specific features
```

## Future Enhancements

### Potential Additions
1. **Right-click context menus** on property labels
2. **Copy/paste property values** between clips
3. **Property presets** for common configurations
4. **History slider** to undo/redo property changes
5. **Property search/filter** for large property lists
6. **Custom property groups** user can configure
7. **Property locking** to prevent accidental changes
8. **Batch editing** of multiple selected clips

### ScrubbableInput Enhancements
1. **Double-click to edit** text directly
2. **Shift+Drag** for fine adjustment (10x precision)
3. **Ctrl+Drag** for coarse adjustment (10x speed)
4. **Mouse wheel** to adjust value
5. **Unit conversion** (px â†” %, deg â†” rad)
6. **Expression support** (e.g., "100/2" â†’ 50)

## Conclusion

The enhanced Properties Panel provides a professional, contextual interface that maximizes screen real estate efficiency while maintaining excellent usability. The combination of always-visible project properties, smooth animations, and interactive controls creates a polished editing experience consistent with professional NLE applications.
